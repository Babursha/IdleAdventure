<app-navigation></app-navigation>
<div class ="container" *ngIf=authorized>

<div class="grid-container">


    <div class="transparent-box" id="t-box1">

      <div class="usernameBox">
        {{model.username}}
      </div>
      <p class = "separate"></p>
      <div class="achievement-box">
        <div class="forest-badge">
          <img class="badges locked" [ngClass]="{'unlocked':forestCheck}" src="/assets/img/forest-badge.png">
          <div class="badge-progress">
            <div class="badge-progress-bar-f" role="progressbar" style="width:{{total_f_monsters/10}}%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
        <div class="desert-badge">
          <img class="badges locked" [ngClass]="{'unlocked':desertCheck}" src="/assets/img/desert-badge.png">
          <div class="badge-progress">
            <div class="badge-progress-bar-d" role="progressbar" style="width:{{total_d_monsters/10}}%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
        <div class="cave-badge">
          <img class="badges locked" [ngClass]="{'unlocked':caveCheck}" src="/assets/img/cave-badge.png">
          <div class="badge-progress">
            <div class="badge-progress-bar-d" role="progressbar" style="width:{{total_c_monsters/10}}%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
        <div class="volcano-badge">
          <img class="badges locked" [ngClass]="{'unlocked':volcanoCheck}" src="/assets/img/volcano-badge.png">
          <div class="badge-progress">
            <div class="badge-progress-bar-d" role="progressbar" style="width:{{total_v_monsters/10}}%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
        <div class="sea-badge">
          <img class="badges locked" [ngClass]="{'unlocked':seaCheck}" src="/assets/img/sea-badge.png">
          <div class="badge-progress">
            <div class="badge-progress-bar-d" role="progressbar" style="width:{{total_s_monsters/10}}%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
      </div>

    </div>

  <div class="transparent-box" id="t-box2">

      <div class="form-row" id="wrappedRow">
        <div class="progress-label" >Level: {{model.level}}</div>
        <div class="progress level">
          <div class="progress-bar levelBar" role="progressbar" style="width:{{(model.xp_current/model.xp_lvl_up)*100}}%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          <span>{{model.xp_current}}/{{model.xp_lvl_up}}</span>
        </div>
      </div>

    <div class ="seperate"></div>
    <div class="stat-box">
      <div class="stat-font">Stat points: {{model.stat_points}}</div>
      <div class="stat-row"><p><img src="/assets/img/heart.png" title="Hp"> {{model.hp}} <div class="hidden-stat" *ngIf="model.hp!=hpStat"><i class="fa fa-caret-right stat-arrow"></i>{{hpStat}}</div><button class="btn stat-btn-add" (click)="updateStats('hpAdd')" [disabled]="model.stat_points<1" ><i class="fa fa-angle-double-up fa-2x add"></i></button><button class="btn stat-btn-sub" (click)="updateStats('hpSub')" [disabled]="model.hp==hpStat"><i class="fa fa-angle-double-down fa-2x sub"></i></button></div>
      <div class="stat-row"><p><img src="/assets/img/shield.png" title="Defense"> {{model.defense}} <div class="hidden-stat" *ngIf="model.defense!=defenseStat"><i class="fa fa-caret-right stat-arrow"></i>{{defenseStat}}</div><button class="btn stat-btn-add" (click)="updateStats('defAdd')" [disabled]="model.stat_points<1" ><i class="fa fa-angle-double-up fa-2x add"></i></button><button class="btn stat-btn-sub" (click)="updateStats('defSub')" [disabled]="model.defense==defenseStat"><i class="fa fa-angle-double-down fa-2x sub"></i></button></div>
      <div class="stat-row"><p><img src="/assets/img/attack.png" title="Attack"> {{model.attack}} <div class="hidden-stat" *ngIf="model.attack!=attackStat"><i class="fa fa-caret-right stat-arrow"></i>{{attackStat}}</div><button class="btn stat-btn-add" (click)="updateStats('attackAdd')" [disabled]="model.stat_points<1" ><i class="fa fa-angle-double-up fa-2x add"></i></button><button class="btn stat-btn-sub" (click)="updateStats('attackSub')" [disabled]="model.attack==attackStat"><i class="fa fa-angle-double-down fa-2x sub"></i></button></div>
      <div class="stat-row"><p><img src="/assets/img/crit_attack.png" title="Critical Hit Chance"> {{model.crit_chance}}% <div class="hidden-stat" *ngIf="model.crit_chance!=critStat"><i class="fa fa-caret-right stat-arrow"></i>{{critStat}}%</div><button class="btn stat-btn-add" (click)="updateStats('critAdd')" [disabled]="model.stat_points<1" ><i class="fa fa-angle-double-up fa-2x add"></i></button><button class="btn stat-btn-sub" (click)="updateStats('critSub')" [disabled]="model.crit_chance==critStat"><i class="fa fa-angle-double-down fa-2x sub"></i></button></div>
      <div class="stat-font"><button class="btn confirm-stat" [ngClass]="{'confirm-stat-lock':showLock}" [disabled]="!showLock" *ngIf="showLock" (click)="updateUserStats()"><i class="fa fa-lock" *ngIf="showLock"></i></button></div>
    </div>
  </div>

    <div class="transparent-box" id="t-box3">

      <div class ="free-progress">
        <div class="form-row">
        <div class="progress-label" ><img src="/assets/img/gold_coin.png" title="Gold"></div>
        <div class="progress">
          <div class="progress-bar" role="progressbar" style="width:{{dataService.counter}}%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          <span>{{dataService.gold_progress}}</span>
        </div>

        <button class="btn btn-gold" data-toggle="tooltip" title="Collect Gold" (click)="collectGold()"></button>
        </div>

        <div class="form-row">
        <div class="progress-label" ><img src="/assets/img/xp.png" title="Exp."></div>
        <div class="progress">
          <div class="progress-bar barXp" role="progressbar" style="width:{{dataService.xpBarWidth}}%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          <span>{{dataService.xp_progress}}</span>
        </div>

        <button class="btn btn-xp" data-toggle="tooltip" title="Collect Exp" (click)="collectXp()"></button>
        </div>
      </div>

    </div>


  <div class="transparent-box" id="t-box4">

    <div class="usernameBox">
      Idle Adventure Guide Book
    </div>
    <p class = "separate"></p>
    <div class="guide-buttons" *ngIf="!showDetails">
      <button class="btn guide-btn"  (click)="showDungeonGuide()"><div class="text-guide-btn">Dungeons</div></button>
      <button class="btn guide-btn"  (click)="showCraftingGuide()"><div class="text-guide-btn">Crafting</div></button>
      <button class="btn guide-btn"  (click)="showBattleGuide()"><div class="text-guide-btn">Battle Mechanics</div></button>
      <button class="btn guide-btn"  (click)="showEnchantGuide()"><div class="text-guide-btn">Enchant Guide</div></button>
      <button class="btn guide-btn"  (click)="showItemIndex()"><div class="text-guide-btn">Item Index</div></button>
      <button class="btn guide-btn"  (click)="showBestiary()"><div class="text-guide-btn">Bestiary</div></button>
      <button class="btn guide-btn"  (click)="showPassiveGuide()"><div class="text-guide-btn">Passive Gold & Xp</div></button>
    </div>
    <div class="guide-text" *ngIf="showDetails">
      <h4 *ngIf="showDungGuide && showDetails">Dungeons</h4><p id ="dung" *ngIf="showDungGuide && showDetails">{{dungeonTip}}</p>
      <h4 *ngIf="showCraftGuide && showDetails">Crafting</h4><p id ="craft" *ngIf="showCraftGuide">{{craftingTip}}</p>
      <h4 *ngIf="showCraftGuide && showDetails">Rates</h4><div id ="craft2" *ngIf="showCraftGuide"><div class="common">Common: 35%</div><div class="uncommon">Uncommon: 25%</div><div class="rare">Rare: 18%</div><div class="mythic">Mythic: 12%</div><div class="legendary">Legendary:7%</div><div class="artifact">Artifact: 3%</div></div>
      <h4 *ngIf="showBatGuide && showDetails">Battle Mechanics</h4><p id ="battle" *ngIf="showBatGuide">{{battleTip}}</p>
      <p id ="enchant"></p>
      <p id ="item"></p>
      <p id ="mons"></p>
      <p id ="passive"></p>
      <button class="btn btn-arrow" *ngIf="showDetails" (click)="resetInfo()"><div id="back"><div id="glow"></div></div></button>
    </div>
  </div>

    <!--<div id = "dailies" class = "overflow-auto">-->
      <!--<h3>Daily Quest</h3>-->


    <!--</div>-->


    <!--<form name = "itemForm" #f = "ngForm" (ngSubmit) = "getItem()">-->

      <!--<button class="btn btn-outline-secondary" type ="submit">get item</button>-->

    <!--</form>-->

    <div [ngClass]="{'show':showGoldCollected}" class="goldCollect">Gold Collected!</div>
    <div [ngClass]="{'show':showXpCollected}" class="xpCollect">Exp Collected!</div>
    <div [ngClass]="{'show':userStatsConfirmed}" class="goldCollect">Stats Updated!</div>
  </div>
</div>


