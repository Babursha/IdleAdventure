<app-navigation></app-navigation>
<div class="container">

  <nav class="navbar navbar-light justify-content-between">
    <div class="buttons">
      <div class="buttonsContainer">
        <button class="btnMenu effect01" (click)="displayShop()" (mouseenter)="showShopPreview=true" (mouseleave)="displayShopPreview()">Shop</button>
      </div>
      <div class="buttonsContainer">
        <button class="btnMenu effect01" (click)="displayCraft()" (mouseenter)="showCraftPreview=true" (mouseleave)="displayCraftPreview()">Craft</button>
      </div>
      <div class="buttonsContainer">
        <button class="btnMenu effect01" (click)="displayEnchant()" (mouseenter)="showEnchantPreview=true" (mouseleave)="displayEnchantPreview()">Enchant</button>
      </div>
      <div class="buttonsContainer">
        <button class="btnMenu effect01" (click)="displayLucky()" (mouseenter)="showLuckyPreview=true" (mouseleave)="displayLuckyPreview()">Lucky Wheel</button>
      </div>
    </div>
  </nav>


  <div class= "contentBox">
    <!-------Start shop box--------->
    <div class="inner-context-box" [ngClass]="{'preview-shop':showShopPreview}">
      <img class="box-img-cover" src="/assets/img/inn.png" [ngClass]="{'hide-pic':showShopPreview}">

      <div class="form-group row hidden" [ngClass]="{'display':showShopPreview}">
        <button class="btn groupBtn rounded-0" [ngClass]="{'groupBtnClicked':showShopBuy}" (click)="displayShopBuy()">Buy</button>
        <button class="btn groupBtn rounded-0" [ngClass]="{'groupBtnClicked':showShopSell}" (click)="displayShopSell()">Sell</button>
      </div>

      <!--SHOP OPENED BUY-->
      <div class="shopContents rounded hidden" [ngClass]="{'displayShop':showShopBuy,'no-display':showShopSell}">
        <div class ="d-flex flex-row flex-wrap" *ngIf="showShopBuy">

          <div class="shopBox d-flex align-items-start flex-column justify-content-center" *ngFor="let item of shopInventory;let i = index">
            <div class = "p-2 mb-auto justify-content-center align-self-center">{{item.itemName}}</div>
            <div class ="p-2 mb-auto align-self-center" [ngClass]="{'Rare':'rare','Mythic':'mythic','Uncommon':'uncommon', 'Legendary':'legendary','Common':'common','Artifact':'artifact'}[item.rarity]">
              <div class="shopImg align-self-center" *ngIf="item.item_type==='Equipment'" [ngClass]="{'Weapon':'Weapon','Ring':'Ring','Chest':'Chest','Helmet':'Helmet','Legging':'Legging','Boots':'Boots'}[item.equip_type]"></div>
              <div class="shopImg align-self-center" *ngIf="item.item_type==='Potion'" [ngClass]="{'Potion':'Potion'}[item.item_type]"></div>
            </div>
            <div class="p-2 align-self-center">
              <div class = "indent">
                {{item.price}}  <img src="assets/img/gold_coin.png" title="Gold"></div>
            </div>
            <div class ="p-2 align-self-center">
              <button class="btn btn-sm btn-outline-dark buyBtn" (click)="shopItemBuy(item,i)">Buy</button>
            </div>
          </div>
        </div>
      </div>
        <!--SHOP OPENED SELL-->
        <div class="shopContents rounded hidden" [ngClass]="{'displayShop':showShopSell,'no-display':showShopBuy}">
          <div class ="d-flex flex-row flex-wrap" *ngIf="showShopSell">

            <div class="shopBox d-flex align-items-start flex-column justify-content-center" *ngFor="let item of inventory">
              <div class = "p-2 mb-auto justify-content-center align-self-center">{{item.itemName}}</div>
              <div class ="p-2 mb-auto align-self-center" [ngClass]="{'Rare':'rare','Mythic':'mythic','Uncommon':'uncommon', 'Legendary':'legendary','Common':'common','Artifact':'artifact'}[item.rarity]">
                <div class="row">
                  <div class="shopImg align-self-center" *ngIf="item.item_type==='Equipment'" [ngClass]="{'Weapon':'Weapon','Ring':'Ring','Chest':'Chest','Helmet':'Helmet','Legging':'Legging','Boots':'Boots'}[item.equip_type]"></div>
                  <div class="shopImg align-self-center" *ngIf="item.item_type==='Potion'" [ngClass]="{'Potion':'Potion'}[item.item_type]"></div>
                  <div class="sellAmount">x{{item.amount}}</div>
                </div>
              </div>
              <div class="p-2 align-self-center">
                <div class = "indent">
                  {{item.sell}}  <img src="assets/img/gold_coin.png" title="Gold"></div>
              </div>
              <div class ="p-2 align-self-center">
                <button class="btn btn-sm btn-outline-dark buyBtn" (click)="shopItemSell(item)">Sell</button>
              </div>
            </div>
          </div>
        </div>

    </div>

    <!-------Start Craft box--------->
    <div class="inner-context-box" [ngClass]="{'preview-shop':showCraftPreview}">
      <img class="box-img-cover" src="/assets/img/anvil.png">
    </div>

    <!-------Start Enchant box--------->
    <div class="inner-context-box" [ngClass]="{'preview-shop':showEnchantPreview}">
      <img class="box-img-cover" src="/assets/img/enchant.png">
    </div>

    <!-------Start Lucky box--------->
    <div class="inner-context-box" [ngClass]="{'preview-shop':showLuckyPreview}">
      <img class="box-img-cover" src="/assets/img/lucky.png" [ngClass]="{'hide-pic':showLuckyPreview}">
      <div class="wheel-container hidden" [ngClass]="{'display':showLuckyPreview}">
        <i class="fa fa-question-circle"
           matTooltipPosition="below"
           matTooltipClass="wheel-tooltip"
           matTooltip={{wheelInformation()}}>
        </i>
        <div class="wheel-outer" *ngIf="showLuckyPreview">
          <img class="wheel-frame" src="/assets/img/wheel.png">
        </div>
        <div class="wheel-inner" *ngIf="showLuckyPreview">
          <img class="spin-wheel" [ngClass]="{'500':'spin-500','5000':'spin-5k','20000':'spin-20k','scroll':'spin-scroll','enchant':'spin-enchant','mystery':'spin-mystery','potion':'spin-potion','rare':'spin-rare'}[spinVal]" src="/assets/img/innerwheel2.png">
        </div>
        <div class="wheel-button-container" *ngIf="showLuckyPreview">
          <button class="btn wheel-button" (click)="luckyWheelSpin()" [disabled]="spinVal != ''"></button>
        </div>
      </div>
    </div>

  </div>




  <div class = "attemptPurchase" #div>

  </div>

<!--  <div [ngClass]="{'show':showBought}" class="purchaseItem">Item bought!</div>
  <div [ngClass]="{'show':showSell}" class="purchaseItem">Item Sold!</div>-->
<!--  <div [ngClass]="{'show':notEnoughGold}" class="purchaseItemFailed">Not enough gold!</div>-->
</div>


<!--
<div class = "contentBoxAll" *ngIf="showShop || showShopPreview" [ngClass]="{'preview':showShopPreview,'endPreview':!showShopPreview}">
  <div class="form-group row">
    <button class="btn groupBtn rounded-0" (click)="displayShopBuy()">Buy</button>
    <button class="btn groupBtn rounded-0" (click)="displayShopSell()">Sell</button>
  </div>

  <div class="shopContents rounded">
    &lt;!&ndash;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;SHOP OPENED BUY&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&ndash;&gt;
    <div class ="d-flex flex-row flex-wrap" *ngIf="showShopBuy">

      <div class="shopBox d-flex align-items-start flex-column justify-content-center" *ngFor="let item of shopInventory;let i = index">
        <div class = "p-2 mb-auto justify-content-center align-self-center">{{item.itemName}}</div>
        <div class ="p-2 mb-auto align-self-center" [ngClass]="{'Rare':'rare','Mythic':'mythic','Uncommon':'uncommon', 'Legendary':'legendary','Common':'common','Artifact':'artifact'}[item.rarity]">
          <div class="shopImg align-self-center" *ngIf="item.item_type==='Equipment'" [ngClass]="{'Weapon':'Weapon','Ring':'Ring','Chest':'Chest','Helmet':'Helmet','Legging':'Legging','Boots':'Boots'}[item.equip_type]"></div>
          <div class="shopImg align-self-center" *ngIf="item.item_type==='Potion'" [ngClass]="{'Potion':'Potion'}[item.item_type]"></div>
        </div>
        <div class="p-2 align-self-center">
          <div class = "indent">
            {{item.price}}  <img src="assets/img/gold_coin.png" title="Gold"></div>
        </div>
        <div class ="p-2 align-self-center">
          <button class="btn btn-sm btn-outline-dark buyBtn" (click)="shopItemBuy(item,i)">Buy</button>
        </div>
      </div>
    </div>
    &lt;!&ndash;-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;SHOP OPENED SELL-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&ndash;&gt;
    <div class ="d-flex flex-row flex-wrap" *ngIf="showShopSell">

      <div class="shopBox d-flex align-items-start flex-column justify-content-center" *ngFor="let item of inventory">
        <div class = "p-2 mb-auto justify-content-center align-self-center">{{item.itemName}}</div>
        <div class ="p-2 mb-auto align-self-center" [ngClass]="{'Rare':'rare','Mythic':'mythic','Uncommon':'uncommon', 'Legendary':'legendary','Common':'common','Artifact':'artifact'}[item.rarity]">
          <div class="row">
            <div class="shopImg align-self-center" *ngIf="item.item_type==='Equipment'" [ngClass]="{'Weapon':'Weapon','Ring':'Ring','Chest':'Chest','Helmet':'Helmet','Legging':'Legging','Boots':'Boots'}[item.equip_type]"></div>
            <div class="shopImg align-self-center" *ngIf="item.item_type==='Potion'" [ngClass]="{'Potion':'Potion'}[item.item_type]"></div>
            <div class="sellAmount">x{{item.amount}}</div>
          </div>
        </div>
        <div class="p-2 align-self-center">
          <div class = "indent">
            {{item.sell}}  <img src="assets/img/gold_coin.png" title="Gold"></div>
        </div>
        <div class ="p-2 align-self-center">
          <button class="btn btn-sm btn-outline-dark buyBtn" (click)="shopItemSell(item)">Sell</button>
        </div>
      </div>
    </div>

  </div>
</div>-->
